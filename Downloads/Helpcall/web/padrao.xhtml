<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <!--        <h:outputStylesheet name="./css/default.css"/>
                <h:outputStylesheet name="./css/cssLayout.css"/>-->
        <title>HelpCall</title>

        <!-- Bootstrap CSS -->
        <ui:insert name="css">

        </ui:insert>
        <h:outputStylesheet library="assets/libs/css" name="style.css" />
        <h:outputStylesheet library="assets/vendor/fonts/fontawesome/css" name="fontawesome-all.css" />
        <h:outputStylesheet library="assets/vendor/bootstrap/css" name="bootstrap.min.css" />
        <h:outputStylesheet library="assets/vendor/fonts/circular-std" name="style.css" />
    </h:head>

    <h:body>
        <!-- ============================================================== -->
        <!-- main wrapper -->
        <!-- ============================================================== -->
        <div class="dashboard-main-wrapper">
            <!-- ============================================================== -->
            <!-- navbar -->
            <!-- ============================================================== -->
            <div class="dashboard-header">
                <nav class="navbar navbar-expand-lg bg-white fixed-top">
                    <a class="navbar-brand" href="#{request.contextPath}/tabelaChamados.xhtml">HelpCall</a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse " id="navbarSupportedContent">
                        <ul class="navbar-nav ml-auto navbar-right-top">
                            <li class="nav-item dropdown nav-user">
                                <a class="nav-link nav-user-img" href="#" id="navbarDropdownMenuLink2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <h:graphicImage library="assets/images" name="avatar.png"  class="user-avatar-md rounded-circle"/>
                                </a>
                                <div class="dropdown-menu dropdown-menu-right nav-user-dropdown" aria-labelledby="navbarDropdownMenuLink2">
                                    <div class="nav-user-info">
                                        <h5 class="mb-0 text-white nav-user-name" style="text-transform: capitalize" >
                                            <h:outputText value="#{usuarioLogadoControl.usuario.login}"></h:outputText>
                                        </h5>
                                    </div>
                                    <a class="dropdown-item" href="#{request.contextPath}/login.xhtml"><i class="fas fa-user mr-2"></i>Entrar</a>
                                    <a class="dropdown-item" href="HelpCall/logout"><i class="fas fa-power-off mr-2"></i>Sair</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
            <!-- ============================================================== -->
            <!-- end navbar -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- left sidebar -->
            <!-- ============================================================== -->
            <div class="nav-left-sidebar sidebar-dark">
                <div class="menu-list">
                    <nav class="navbar navbar-expand-lg navbar-light">
                        <a class="d-xl-none d-lg-none" href="#">Dashboard</a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarNav">
                            <ul class="navbar-nav flex-column">
                                <li class="nav-divider">
                                    Menu
                                </li>
                                <li class="nav-item ">
                                    <a class="nav-link active" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-1" aria-controls="submenu-1"><i class="fa fa-fw fa-user-circle"></i>Dashboard <span class="badge badge-success">6</span></a>
                                    <div id="submenu-1" class="collapse submenu" style="">
                                        <ul class="nav flex-column">
                                            <li class="nav-item">
                                                <a class="nav-link" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-1-2" aria-controls="submenu-1-2">Usuários</a>
                                                <div id="submenu-1-2" class="collapse submenu" style="">
                                                    <ul class="nav flex-column">
                                                        <h:form id="menuUsu" style="margin:0px;">
                                                            <li class="nav-item">
                                                                <h:link styleClass="nav-link" value="Cadastrar" outcome="/gestor/cadUsuario"/>
                                                            </li>
                                                            <li class="nav-item">
                                                                <h:commandLink value="Listar" styleClass="nav-link" action="#{usuarioC.listar}"/>
                                                            </li>
                                                        </h:form>
                                                    </ul>
                                                </div>
                                            </li>
                                            <h:form id="menuCad" style="margin:0px;">
                                                <li class="nav-item">
                                                    <a class="nav-link" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-1-1" aria-controls="submenu-1-1">Controles</a>
                                                    <div id="submenu-1-1" class="collapse submenu" style="">
                                                        <ul class="nav flex-column">
                                                            <li class="nav-item">

                                                                <h:link styleClass="nav-link" value="Cadastrar" outcome="/admin/cadControle"/>
                                                            </li>
                                                            <li class="nav-item">
                                                                <h:commandLink value="Listar" styleClass="nav-link" action="#{macC.listarPage()}"/>

                                                            </li>

                                                        </ul>
                                                    </div>
                                                </li>
                                            </h:form>
                                            <li class="nav-item">
                                                <a class="nav-link" hrfasef="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-10" aria-controls="submenu-10">Relatórios</a>
                                                <div id="submenu-10" class="collapse submenu" style="">
                                                    <ul class="nav flex-column">
                                                        <li class="nav-item">
                                                            <a class="nav-link" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-11" aria-controls="submenu-11">PDF</a>
                                                            <div id="submenu-11" class="collapse submenu" style="">
                                                                <ul class="nav flex-column">
                                                                    <li class="nav-item">
                                                                        <a class="nav-link" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-11-1" aria-controls="submenu-11-1">Mensal</a>
                                                                        <div id="submenu-11-1" class="collapse submenu" style="">
                                                                            <ul class="nav flex-column">
                                                                                <h:form id="gerarPDF">
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Janeiro" action="#{chamadoC.gerarPdf('1','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Fevereiro" action="#{chamadoC.gerarPdf('2','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Marco" action="#{chamadoC.gerarPdf('3','')}" />
                                                                                    </li><li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Abril" action="#{chamadoC.gerarPdf('4','')}" />

                                                                                    </li><li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Maio" action="#{chamadoC.gerarPdf('5','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Junho" action="#{chamadoC.gerarPdf('6','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Julho" action="#{chamadoC.gerarPdf('7','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Agosto" action="#{chamadoC.gerarPdf('8','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Setembro" action="#{chamadoC.gerarPdf('9','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Outubro" action="#{chamadoC.gerarPdf('10','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Novembro" action="#{chamadoC.gerarPdf('11','')}" onclick="alertFunc()"/>
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Dezembro" action="#{chamadoC.gerarPdf('12','')}" />
                                                                                    </li>
                                                                                </h:form>
                                                                            </ul>
                                                                        </div>
                                                                    </li>
                                                                    <li class="nav-item">
                                                                        <a class="nav-link" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-11-2" aria-controls="submenu-11-2">Anual</a>
                                                                        <div id="submenu-11-2" class="collapse submenu" style="">
                                                                            <h:form>
                                                                                <ul class="nav flex-column">
                                                                                    <li class="nav-item">
                                                                                        <li class="nav-item">
                                                                                            <p:commandLink class="nav-link" value="2018" action="#{chamadoC.gerarPdf('','2018-01-01')}" />
                                                                                        </li>
                                                                                        <p:commandLink class="nav-link" value="2019" action="#{chamadoC.gerarPdf('','2019-01-01')}" />
                                                                                    </li>
                                                                                </ul>
                                                                            </h:form>
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </li>
                                                        <li class="nav-item">
                                                            <a class="nav-link" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-12" aria-controls="submenu-11">Excel</a>
                                                            <div id="submenu-12" class="collapse submenu" style="">
                                                                <ul class="nav flex-column">
                                                                    <li class="nav-item">
                                                                        <a class="nav-link" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-12-1" aria-controls="submenu-12-1">Mensal</a>
                                                                        <div id="submenu-12-1" class="collapse submenu" style="">
                                                                            <ul class="nav flex-column">
                                                                                <h:form id="gerarExcel">
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Janeiro" action="#{chamadoC.gerarExcel('1','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Fevereiro" action="#{chamadoC.gerarExcel('2','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Marco" action="#{chamadoC.gerarExcel('3','')}" />
                                                                                    </li><li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Abril" action="#{chamadoC.gerarExcel('4','')}" />

                                                                                    </li><li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Maio" action="#{chamadoC.gerarExcel('5','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Junho" action="#{chamadoC.gerarExcel('6','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Julho" action="#{chamadoC.gerarExcel('7','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Agosto" action="#{chamadoC.gerarExcel('8','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Setembro" action="#{chamadoC.gerarExcel('9','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Outubro" action="#{chamadoC.gerarExcel('10','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Novembro" action="#{chamadoC.gerarExcel('11','')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="Dezembro" action="#{chamadoC.gerarExcel('12','')}" />
                                                                                    </li>
                                                                                </h:form>
                                                                            </ul>
                                                                        </div>
                                                                    </li>
                                                                    <li class="nav-item">
                                                                        <a class="nav-link" href="#" data-toggle="collapse" aria-expanded="false" data-target="#submenu-12-2" aria-controls="submenu-12-2">Anual</a>
                                                                        <div id="submenu-12-2" class="collapse submenu" style="">
                                                                            <h:form>
                                                                                <ul class="nav flex-column">
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="2018" action="#{chamadoC.gerarExcel('','2018-01-01')}" />
                                                                                    </li>
                                                                                    <li class="nav-item">
                                                                                        <p:commandLink class="nav-link" value="2019" action="#{chamadoC.gerarExcel('','2019-01-01')}" />
                                                                                    </li>
                                                                                </ul>
                                                                            </h:form>     
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </li>



                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- end left sidebar -->
            <!-- ============================================================== -->
            <!-- wrapper  -->
            <!-- ============================================================== -->
            <div>

                <ui:insert name="centro">

                </ui:insert>


            </div>


            <!-- ============================================================== -->
            <!-- footer -->
            <!-- ============================================================== -->
            <div class="footer">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12" style="text-align: center; font-size: 10px;">
                            Copyright © 2018 Concept. All rights reserved. Dashboard by <a href="https://colorlib.com/wp/">Colorlib</a>.
                        </div>
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
                            <div class="text-md-right footer-links d-none d-sm-block">
                                <a href="sobre.xhtml">Sobre</a>
                                <a href="suporte.xhtml">Suporte</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- end footer -->
            <!-- ============================================================== -->
        </div>
        <!-- ============================================================== -->
        <!-- end main wrapper -->
        <!-- ============================================================== -->
        <!-- Optional JavaScript -->
        <!--<ui:insert name="js"></ui:insert>-->


        <h:outputScript library="assets/vendor/jquery" name="jquery-3.3.1.min.js" />
        <h:outputScript library="assets/vendor/bootstrap/js" name="bootstrap.bundle.js" />
        <h:outputScript library="assets/vendor/slimscroll" name="jquery.slimscroll.js" />
        <h:outputScript library="assets/libs/js" name="main-js.js" />

        <script>
            function alerts() {
                var error = #{chamadoC.error}

                if (error) {
                    alert('Ocorreu um erro no download');
                } else {
                    alert('Download efetuado com sucesso');
                }
            }
            function alertFunc() {
                setTimeout(alerts(), 5000);
            }

        </script>

    </h:body>

</html>
